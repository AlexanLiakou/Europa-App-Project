const capitals=[{city:"Amsterdam",country:"Netherlands",eu:"Member",countryCode:"NL"},{city:"Andorra",country:"Andorra",eu:"Non-member",countryCode:"AD"},{city:"Athens",country:"Greece",eu:"Member",countryCode:"GR"},{city:"Belgrade",country:"Serbia",eu:"Non-member Pending(2009)",countryCode:"RS"},{city:"Berlin",country:"Germany",eu:"Member",countryCode:"DE"},{city:"Bern",country:"Switzerland",eu:"Non-member",countryCode:"CH"},{city:"Bratislava",country:"Slovakia",eu:"Member",countryCode:"SK"},{city:"Brussels",country:"Belgium",eu:"Member",countryCode:"BE"},{city:"Bucharest",country:"Romania",eu:"Member",countryCode:"RO"},{city:"Budapest",country:"Hungary",eu:"Member",countryCode:"HU"},{city:"Chisinau",country:"Moldova",eu:"Non-member Pending(2022)",countryCode:"MD"},{city:"Copenhagen",country:"Denmark",eu:"Member",countryCode:"DK"},{city:"Dublin",country:"Ireland",eu:"Member",countryCode:"IE"},{city:"Helsinki",country:"Finland",eu:"Member",countryCode:"FI"},{city:"Kiev",country:"Ukraine",eu:"Member Pending(2022)",countryCode:"UA"},{city:"Lisbon",country:"Portugal",eu:"Member",countryCode:"PT"},{city:"Ljubljana",country:"Slovenia",eu:"Member",countryCode:"SI"},{city:"London",country:"United Kingdom",eu:"Non-member",countryCode:"GB"},{city:"Luxembourg",country:"Luxembourg",eu:"Member",countryCode:"LU"},{city:"Madrid",country:"Spain",eu:"Member",countryCode:"ES"},{city:"Minks",country:"Belarus",eu:"Non-member",countryCode:"BY"},{city:"Monaco",country:"Monaco",eu:"Non-member",countryCode:"MC"},{city:"Moscow",country:"Russian Federation",eu:"Non-member",countryCode:"RU"},{city:"Nicosia",country:"Cyprus",eu:"Member",countryCode:"CY"},{city:"Nuuk",country:"Greenland",eu:"Non-member",countryCode:"GL"},{city:"Oslo",country:"Norway",eu:"Non-member",countryCode:"NO"},{city:"Paris",country:"France",eu:"Member",countryCode:"FR"},{city:"Podgorica",country:"Montenegro",eu:"Non-member, Pending(2008)",countryCode:"ME"},{city:"Prague",country:"Czech Republic",eu:"Member",countryCode:"CZ"},{city:"Reykjavik",country:"Iceland",eu:"Non-member",countryCode:"IS"},{city:"Riga",country:"Latvia",eu:"Member",countryCode:"LV"},{city:"Rome",country:"Italy",eu:"Member",countryCode:"IT"},{city:"San Marino",country:"San Marino",eu:"Non-member",countryCode:"SM"},{city:"Sarajevo",country:"Bosnia and Herzegovina",eu:"Non-member",countryCode:"BA"},{city:"Skopje",country:"Macedonia",eu:"Non-member Pending(2004)",countryCode:"MK"},{city:"Sofia",country:"Bulgaria",eu:"Member",countryCode:"BG"},{city:"Stockholm",country:"Sweden",eu:"Member",countryCode:"SE"},{city:"Tallinn",country:"Estonia",eu:"Member",countryCode:"EE"},{city:"Tirana",country:"Albania",eu:"Non-member Pending(2009)",countryCode:"AL"},{city:"Vaduz",country:"Liechtenstein",eu:"Non-member",countryCode:"LI"},{city:"Valletta",country:"Malta",eu:"Non-member",countryCode:"MT"},{city:"Vienna",country:"Austria",eu:"Member",countryCode:"AT"},{city:"Vilnius",country:"Lithuania",eu:"Member",countryCode:"LT"},{city:"Warsaw",country:"Poland",eu:"Member",countryCode:"PL"},{city:"Zagreb",country:"Croatia",eu:"Non-member",countryCode:"HR"},{city:"Pristina",country:"Kossovo",eu:"Non-member",countryCode:"XK"},{city:"Vatican City",country:"Vatican City",eu:"Non-member",countryCode:"VA"}],regex=/^[a-zA-Z\s]*$/,weatherApiKey="89a442258f44af4f5f9bea9d6726b284",unit="metric";function startingPage(){$(".left-col").html('\n        <h3 class="text-2xl xxl:text-4xl xxl:mb-6 text-white text-center font-bold mb-4">Search Capital City:</h3>\n        <input class="search-input md:w-[300px] mx-auto mb-3 pl-1 outline-0 border-[0.188rem] rounded-md border-amber border-solid text-black" type="text">\n        <div class="xxl:w-[500px] w-[300px] mx-auto btn-container flex flex-col gap-3 items-center mt-4 sm:flex-row sm:gap-0 sm:justify-around">\n            <a id="search-weather" class="xxl:text-xl xxl:w-[12.5rem] w-[8.125rem] inline-block text-white text-center font-bold px-4 py-2.5 outline-0 rounded-md bg-amber focus:outline-0 hover:opacity-90 cursor-pointer">Search City</a>\n            <a id="clear-search" class="w-[8.125rem] xxl:text-xl xxl:w-[12.5rem] inline-block text-white text-center font-bold px-4 py-2.5 bg-amber outline-0 rounded-md focus:outline-0 hover:opacity-90 cursor-pointer">Clear</a>\n        </div>\n        <div class="validation-message"></div>\n    '),$(".right-col").html('\n        <h3 class="text-2xl xxl:text-4xl text-center font-bold mb-4">Geography is fun!</h3>\n        <p class="text-base xxl:text-xl sm:text-lg text-center mb-3">- Search for a european capital city\n        <a class="city-list text-purple hover:opacity-90 cursor-pointer">(check list)</a> and get its current weather conditions.\n        </p>\n        <p class="text-base xxl:text-xl sm:text-lg text-center mb-3">- Then, click on "Country\'s Info" button to get info about the corresponding european country.</p>\n        <p class="text-base xxl:text-xl sm:text-lg text-center">- You can clear your searches by clicking on "Clear" button.</p>\n    ')}$(document).ready((()=>{startingPage(),capitals.forEach((e=>{$("#city-list").append(`<li class="p-2">${e.city}<span class="text-purple">(${e.country})</span></li>`)})),$("#city-pop-up").hide()})),$(document).on("click","#search-weather",(()=>{console.log("clicked");let e=$(".search-input").val();if(""===e.trim())$(".validation-message").css("display","block"),$(".validation-message").html('<p class="text-base  xxl:text-xl text-white font-bold text-center italic mb-2 mt-4">Please fill a capital city.</p>'),e="",console.log("trim error");else if(regex.test(e))if(capitals.find((t=>t.city===e))){let t="";capitals.forEach((n=>{if(e===n.city)return t=n.countryCode})),console.log("no error"),$(".validation-message").css("display","none"),axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${e},${t}&units=metric&appid=${weatherApiKey}`).then((t=>{if(200===t.status){console.log(t.status),console.log(t);const n=t.data.weather[0].main,o=t.data.weather[0].icon,r=t.data.weather[0].description,c=t.data.main.temp,l=t.data.main.temp_max,a=t.data.main.temp_min,i=t.data.main.humidity,s=t.data.wind.speed;$(".col-container").removeClass("lg:mt-52"),$(".left-col").html(`\n                    <h3 id="city-title" class="text-3xl text-white text-center font-bold my-4">${e}</h3>\n                    <div class="text-center flex justify-center mb-4">\n                        <img src="http://openweathermap.org/img/w/${o}.png" alt"${n}">\n                    </div>\n                    <div class="weather-info-container mb-5">\n                        <p class="text-white text-2xl  xxl:text-4xl font-bold text-center">${n}</p>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2">\n                        <div flex flex-column align-center justify-center>\n                            <div class="weather-info-container mb-3">\n                                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Description: </p>\n                                <p class="text-white xxl:text-3xl text-xl text-center">${r}</p>\n                            </div>\n                            <div class="weather-info-container mb-3">\n                                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Average: </p>\n                                <p class="text-white xxl:text-3xl text-xl text-center">${c} &#8451;</p>\n                            </div>\n                            <div class="weather-info-container mb-3">\n                                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Maximum: </p>\n                                <p class="text-white xxl:text-3xl text-xl text-center">${l} &#8451;</p>\n                            </div>\n                        </div>\n                        <div flex flex-column align-center justify-center>\n                            <div class="weather-info-container mb-3">\n                                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Minimum: </p>\n                                <p class="text-white xxl:text-3xl text-xl text-center">${a} &#8451;</p>\n                            </div>\n                            <div class="weather-info-container mb-3">\n                                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Humidity: </p>\n                                <p class="text-white xxl:text-3xl text-xl text-center">${i}%</p>\n                            </div>\n                            <div class="weather-info-container mb-4">\n                                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Wind Speed: </p>\n                                <p class="text-white xxl:text-3xl text-xl text-center">${s.toFixed(1)} meters/sec</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="w-[100%] mx-auto btn-container flex flex-col gap-3 items-center sm:flex-row sm:gap-0 sm:justify-around mt-4">\n                        <a id="search-country" class="w-[12.5rem] inline-block text-white xxl:text-2xl text-lg text-center font-bold px-4 py-2.5 outline-0 rounded-md bg-amber focus:outline-0 hover:opacity-90 cursor-pointer">Country's Info</a>\n                        <a class="clear-search w-[12.5rem] inline-block text-white xxl:text-2 xl text-lg text-center font-bold px-4 py-2.5 bg-amber outline-0 rounded-md focus:outline-0 hover:opacity-90 cursor-pointer">Clear</a>\n                    </div>\n                `)}else console.log(t.status),$(".validation-message").css("display","block"),$(".validation-message").html(`<p class="text-base xxl:text-xl text-white font-bold text-center italic my-3">Weather API server error: ${result.status}. Please try again later.</p>`)}))}else $(".validation-message").css("display","block"),$(".validation-message").html('<p class="text-base  xxl:text-xl text-white font-bold text-center italic mb-3 mt-4">Please fill a valid\n        <a class="city-list text-purple hover:opacity-90 cursor-pointer">european</a> capital city.</p>'),e="",console.log("invalid city error");else $(".validation-message").css("display","block"),$(".validation-message").html('<p class="text-base  xxl:text-xl text-white font-bold text-center italic mb-2 mt-4">Please fill a valid\n        <a class="city-list text-purple hover:opacity-90 cursor-pointer">european</a> capital city.</p>'),e="",console.log("regex error")})),$(document).on("click","#search-country",(()=>{const e=$("#city-title").text();let t="",n="";capitals.forEach((o=>o.city===e?t=o.country:o.city===e?(console.log(o.eu),n=o.eu):void 0)),capitals.forEach((t=>{if(t.city===e)return console.log(t.eu),n=t.eu}));const o=new Headers;o.append("apikey","NLls6yQgoUKPWgLJfFr4p13qiXC7pn3W");fetch(`https://api.apilayer.com/geo/country/name/${t}`,{method:"GET",redirect:"follow",headers:o}).then((e=>e.json())).then((e=>{console.log(e);const t=e[0].alpha2code,o=e[0].name,r=e[0].subregion,c=e[0].currencies[0].name,l=e[0].currencies[0].symbol,a=parseInt(e[0].population),i=parseInt(e[0].area).toFixed(0),s=e[0].languages[0].name;$(".col-container").removeClass("lg:mt-52"),$(".right-col").removeClass("justify-center"),$(".right-col").html(`\n    <h3 id="city-title" class="text-3xl text-white text-center font-bold my-4">${o}</h3>\n    <div class="text-center flex justify-center mt-1 mb-6">\n        <img src="images/${t}.png" alt"${o}'s flag">\n    </div>\n    <div class="grid grid-cols-1 md:grid-cols-2">\n        <div flex flex-column align-center justify-center>\n            <div class="country-info-container mb-3">\n                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Subregion: </p>\n                <p class="text-white xxl:text-3xl text-xl text-center">${r}</p>\n            </div>\n            <div class="country-info-container mb-3">\n                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">EU status: </p>\n                <p class="text-white xxl:text-3xl text-xl text-center">${n}</p>\n            </div>\n            <div class="country-info-container mb-3">\n                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Language: </p>\n                <p class="text-white xxl:text-3xl text-xl text-center">${s}</p>\n            </div>\n        </div>\n        <div flex flex-column align-center justify-center>\n            <div class="country-info-container mb-3">\n                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Population: </p>\n                <p class="text-white xxl:text-3xl text-xl text-center">${new Intl.NumberFormat("de-DE").format(a)}</p>\n            </div>\n            <div class="country-info-container mb-3">\n                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Area: </p>\n                <p class="text-white xxl:text-3xl text-xl text-center">${new Intl.NumberFormat("de-DE").format(i)} km2</p>\n            </div>\n            <div class="country-info-container mb-4">\n                <p class="text-purple xxl:text-3xl text-xl font-bold text-center">Currency: </p>\n                <p class="text-white xxl:text-3xl text-xl text-center">${c} (${l})</p>\n            </div>\n        </div>\n    </div>\n    `)})).catch((e=>{$(".right-col").addClass("justify-center"),$(".right-col").html(`\n        <p class="text-lg xxl:text-2xl text-white font-bold text-center italic my-3">Geography API server error: ${e}. Please try again later.</p>\n    `)}))})),$(document).on("click",".city-list",(()=>{$("#city-pop-up").show(),$("#city-pop-up").css("transform","translate3d(0,0,0)"),$("#city-pop-up").css("transition","all 0.5s ease-out")})),$(document).on("click",".close-btn",(()=>{$("#city-pop-up").css("transform","translate3d(0,-180%,0)"),$("#city-pop-up").css("transition","all 0.5s ease-out")})),$(document).on("click",".clear-search",(()=>{$(".search-input").val(""),$(".col-container").addClass("lg:mt-52"),$(".right-col").addClass("justify-center"),startingPage()})),$("#year").text((new Date).getFullYear());